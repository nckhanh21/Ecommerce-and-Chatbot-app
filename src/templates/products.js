import React, { useContext, useEffect, useState } from 'react'
import { Link } from 'react-router-dom'
import Breadcrumbs from '../components/Breadcrumbs'
import ColorSelector from '../components/ColorSelector'
import ProductPanel from '../components/ProductPanel'
import { StoreContext } from '../context'
import axios from 'axios'

const CATEGORIES = [
    'bedroom',
    'office',
    'kitchen',
    'living room',
    'kids',
    'dining'
]

const COMPANIES = [
    'ikea',
    'marcos',
    'liddy',
    'caressa'
]

const COLORS = [
    '#0000ff',
    '#000',
    '#ff0000',
    '#ffb900',
    '#00ff00'
]

const products =[
    {
      "id": "recZkNf2kwmdBcqd0",
      "name": "√Åo Thun Nam C·ªî TR√íN Cao C·∫•p ( nhi·ªÅu m√†u) Tay Ng·∫Øn, ch·∫•t cotton b·ªÅ m·∫∑t v·∫£i m·ªÅm",
      "price": 25999,
      "image": "https://cf.shopee.vn/file/3ebd3fa1d6ebf4fb62a949384dae0d1c",
      "colors": [
        "#ff0000",
        "#00ff00",
        "#0000ff"
      ],
      "company": "marcos",
      "description": "√Åo thun nam tr∆°n v·∫£i cotton cao c·∫•p m·ªÅm m·ªãn, √°o ph√¥ng nam ƒë·∫πp ng·∫Øn tay c√≥ ƒë·ªß b·∫£ng m√†u c·ª±c hot PAZZIN STORE h√¢n h·∫°nh ƒë∆∞·ª£c ph·ª•c v·ª• qu√Ω kh√°ch. Nh·ªØng s·∫£n ph·∫©m m·ªõi nh·∫•t v·∫´n li√™n t·ª•c ƒë∆∞·ª£c c·∫≠p nh·∫≠t m·ªói ng√†y ph√π h·ª£p v·ªõi nhi·ªÅu l·ª©a tu·ªïi. 1. GI·ªöI THI·ªÜU S·∫¢N PH·∫®M - √Åo ph√¥ng nam l√† s·ª± l·ª±a ch·ªçn ho√†n h·∫£o cho c√°c ch√†ng trai. √Åo m√†u trung t√≠nh r·∫•t d·ªÖ m·∫∑c, form √°o v·ª´a v·∫∑n c∆° th·ªÉ, tho·∫£i m√°i theo t·ª´ng c·ª≠ ƒë·ªông. - M√†u s·∫Øc trung t√≠nh v√† ph·ªëi m√†u tuy·ªát v·ªùi m√† r·∫•t √≠t √°o c√≥ t·∫°o n√™n s·ª± d·ªÖ d√†ng trong vi·ªác ph·ªëi ƒë·ªì v√† t·∫°o ra cho m√¨nh nhi·ªÅu phong c√°ch kh√°c nhau. - √Åo ƒë∆∞·ª£c l√†m t·ª´ ch·∫•t li·ªáucotton co gi√£n v·ªõi b·ªÅ m·∫∑t v·∫£i m·ªÅm m·∫°i, th·∫•m h√∫t m·ªì h√¥i t·ªët t·∫°o c·∫£m gi√°c tho·∫£i m√°i, tho√°ng m√°t cho ng∆∞·ªùi m·∫∑c. ƒê√¢y c≈©ng l√† ch·∫•t li·ªáu d·ªÖ gi·∫∑t s·∫°ch, gi√∫p b·∫°n ti·∫øt ki·ªám m·ªôt kho·∫£ng th·ªùi gian ƒë√°ng k·ªÉ. - √Åo ch·ªëng nhƒÉn t·ªët, d·ªÖ gi·∫∑t s·∫°ch, nhanh kh√¥. -Gi·∫∑t tay hay gi·∫∑t m√°y tho·∫£i m√°i kh√¥ng s·ª£ ra m√†u, nhƒÉn , m·∫•t form 2. TH√îNG TIN S·∫¢N PH·∫®M - Ch·∫•t li·ªáu: 100% ch·∫•t cotton c√° s·∫•u, th·∫•m h√∫t m·ªì h√¥i , gi·∫∑t kh√¥ng ra m√†u , kh√¥ng m·∫•t form - C√°c Size S - M - L- XL- XXL - XXXL + Size S : 40-43 kg cao 1m45-1m58 + Size M : 44 - 54 kg cao 1m55 - 1m65 + Size L : 55 - 62kg cao 1m63 - 1m74 + Size XL : 63- 71kg cao 1m65 - 1m77 + Size XXL : 72 - 79kg cao 1m68 - 1m82 + Size XXXL : 80 - 85kg cao 1m70 - 1m90 - M√†u s·∫Øc : ƒêen , tr·∫Øng , Xanh B√≠ch , Xanh Thi√™n Thanh , Xanh ƒëen , ƒê·ªè T∆∞∆°i , ƒê·ªè ƒê√¥ , V√†ng , Bi·ªÉn , Cam , Xanh Ya , Xanh K√©t , Xanh L√° , Xanh c·ªëm , X√°m ƒê·∫≠m , X√°m L·ª£t , M√†u n√¢u , Xanh V·ªãt - Form √°o slim d·ªÖ ph·ªëi ƒë·ªì 3. CH√çNH S√ÅCH B√ÅN H√ÄNG: - FREESHIP ho·∫∑c h·ªó tr·ª£ 40K cho ƒë∆°n h√†ng t·ª´ 99K to√†n qu·ªëc - Ngo√†i ra, Ch√∫ng t√¥i t·∫∑ng m√£ voucher ho·∫∑c ho√†n xu cho to√†n b·ªô ƒë∆°n h√†ng - Cam k·∫øt ch·∫•t l∆∞·ª£ng v√† m·∫´u m√£ s·∫£n ph·∫©m gi·ªëng v·ªõi h√¨nh ·∫£nh. - Ho√†n ti·ªÅn n·∫øu s·∫£n ph·∫©m kh√¥ng gi·ªëng v·ªõi m√¥ t·∫£. - Cam k·∫øt ƒë∆∞·ª£c ƒë·ªïi tr·∫£ h√†ng trong v√≤ng 2 ng√†y. 4. H∆Ø·ªöNG D·∫™N C√ÅCH ƒê·∫∂T H√ÄNG - B∆∞·ªõc 1: C√°ch ch·ªçn size, shop c√≥ b·∫£ng size m·∫´u. B·∫°n N√äN INBOX, cung c·∫•p chi·ªÅu cao, c√¢n n·∫∑ng ƒë·ªÉ SHOP T∆Ø V·∫§N SIZE - B∆∞·ªõc 2: C√°ch ƒë·∫∑t h√†ng: N·∫øu b·∫°n mu·ªën mua 2 s·∫£n ph·∫©m kh√°c nhau ho·∫∑c 2 size kh√°c nhau, ƒë·ªÉ ƒë∆∞·ª£c freeship + B·∫°n ch·ªçn t·ª´ng s·∫£n ph·∫©m r·ªìi th√™m v√†o gi·ªè h√†ng + Khi gi·ªè h√†ng ƒë√£ c√≥ ƒë·∫ßy ƒë·ªß c√°c s·∫£n ph·∫©m c·∫ßn mua, b·∫°n m·ªõi ti·∫øn h√†nh ·∫•n n√∫t ‚Äú Thanh to√°n‚Äù - Shop lu√¥n s·∫µn s√†ng tr·∫£ l·ªùi inbox ƒë·ªÉ t∆∞ v·∫•n.",
      "category": "office",
      "shipping": true,
      "reviews": 25,
      "stars": 4.9,
      "stock": 3
    },
    {
      "id": "recEHmzvupvT8ZONH",
      "name": "√Åo Thun Nam tr∆°n C·ªï Tr√≤n Cao C·∫•p ph√¥ng Tay Ng·∫Øn, ch·∫•t cotton b·ªÅ m·∫∑t v·∫£i m·ªÅm DiHu store",
      "price": 109999,
      "image": "https://cf.shopee.vn/file/e5310c5c331ba38b280dd089b63e4263",
      "colors": [
        "#000",
        "#ffb900"
      ],
      "company": "liddy",
      "description": "√Åo Thun Nam C·ªï Tr√≤n Cao C·∫•p ( nhi·ªÅu m√†u) Tay Ng·∫Øn, ch·∫•t cotton b·ªÅ m·∫∑t v·∫£i m·ªÅm DuHu-fashion kinh m·ªùi kh√°ch h√†ng tham quan gian h√†ng nha DiHu √Åo thun nam tr∆°n v·∫£i cotton cao c·∫•p m·ªÅm m·ªãn, √°o ph√¥ng nam ƒë·∫πp ng·∫Øn tay c√≥ ƒë·ªß b·∫£ng m√†u c·ª±c hot h√¢n h·∫°nh ƒë∆∞·ª£c ph·ª•c v·ª• qu√Ω kh√°ch. Nh·ªØng s·∫£n ph·∫©m m·ªõi nh·∫•t v·∫´n li√™n t·ª•c ƒë∆∞·ª£c c·∫≠p nh·∫≠t m·ªói ng√†y ph√π h·ª£p v·ªõi nhi·ªÅu l·ª©a tu·ªïi. 1. GI·ªöI THI·ªÜU S·∫¢N PH·∫®M √°o thun nam - √Åo ph√¥ng nam l√† s·ª± l·ª±a ch·ªçn ho√†n h·∫£o cho c√°c ch√†ng trai. √Åo m√†u trung t√≠nh r·∫•t d·ªÖ m·∫∑c, form √°o v·ª´a v·∫∑n c∆° th·ªÉ, tho·∫£i m√°i theo t·ª´ng c·ª≠ ƒë·ªông.nam - M√†u s·∫Øc trung t√≠nh c·ªï tr√≤n , ng·∫Øn tay v√† ph·ªëi m√†u tuy·ªát v·ªùi m√† r·∫•t √≠t √°o c√≥ t·∫°o n√™n s·ª± d·ªÖ d√†ng trong vi·ªác ph·ªëi ƒë·ªì v√† t·∫°o ra cho m√¨nh nhi·ªÅu phong c√°ch kh√°c nhau. - √Åo ƒë∆∞·ª£c l√†m t·ª´ ch·∫•t li·ªáu cotton co gi√£n v·ªõi b·ªÅ m·∫∑t v·∫£i m·ªÅm m·∫°i, th·∫•m h√∫t m·ªì h√¥i t·ªët t·∫°o c·∫£m gi√°c tho·∫£i m√°i, tho√°ng m√°t cho ng∆∞·ªùi m·∫∑c. ƒê√¢y c≈©ng l√† ch·∫•t li·ªáu d·ªÖ gi·∫∑t s·∫°ch, gi√∫p b·∫°n ti·∫øt ki·ªám m·ªôt kho·∫£ng th·ªùi gian ƒë√°ng k·ªÉ. - √Åo thun nam ch·ªëng nhƒÉn t·ªët, d·ªÖ gi·∫∑t s·∫°ch, nhanh kh√¥. -Gi·∫∑t tay hay gi·∫∑t m√°y tho·∫£i m√°i kh√¥ng s·ª£ ra m√†u, nhƒÉn , m·∫•t form",
      "category": "living room",
      "reviews": 25,
      "stars": 4.9,
      "stock": 3
    },
    {
      "id": "rec5NBwZ5zCD9nfF0",
      "name": "√Åo thun polo nam th·ªÉ thao LADOS - 9080 c√≥ c·ªï b·∫ª, v·∫£i thun l·∫°nh, ph√¥ng r·ªông",
      "price": 139.000,
      "image": "https://cf.shopee.vn/file/10dbc3bb11c92d60905ee3fbd1d38d36",
      "colors": [
        "#ffb900",
        "#0000ff"
      ],
      "company": "liddy",
      "description": "√Åo Thun Nam C·ªï Tr√≤n Cao C·∫•p ( nhi·ªÅu m√†u) Tay Ng·∫Øn, ch·∫•t cotton b·ªÅ m·∫∑t v·∫£i m·ªÅm DuHu-fashion kinh m·ªùi kh√°ch h√†ng tham quan gian h√†ng nha DiHu √Åo thun nam tr∆°n v·∫£i cotton cao c·∫•p m·ªÅm m·ªãn, √°o ph√¥ng nam ƒë·∫πp ng·∫Øn tay c√≥ ƒë·ªß b·∫£ng m√†u c·ª±c hot h√¢n h·∫°nh ƒë∆∞·ª£c ph·ª•c v·ª• qu√Ω kh√°ch. Nh·ªØng s·∫£n ph·∫©m m·ªõi nh·∫•t v·∫´n li√™n t·ª•c ƒë∆∞·ª£c c·∫≠p nh·∫≠t m·ªói ng√†y ph√π h·ª£p v·ªõi nhi·ªÅu l·ª©a tu·ªïi. 1. GI·ªöI THI·ªÜU S·∫¢N PH·∫®M √°o thun nam - √Åo ph√¥ng nam l√† s·ª± l·ª±a ch·ªçn ho√†n h·∫£o cho c√°c ch√†ng trai. √Åo m√†u trung t√≠nh r·∫•t d·ªÖ m·∫∑c, form √°o v·ª´a v·∫∑n c∆° th·ªÉ, tho·∫£i m√°i theo t·ª´ng c·ª≠ ƒë·ªông.nam - M√†u s·∫Øc trung t√≠nh c·ªï tr√≤n , ng·∫Øn tay v√† ph·ªëi m√†u tuy·ªát v·ªùi m√† r·∫•t √≠t √°o c√≥ t·∫°o n√™n s·ª± d·ªÖ d√†ng trong vi·ªác ph·ªëi ƒë·ªì v√† t·∫°o ra cho m√¨nh nhi·ªÅu phong c√°ch kh√°c nhau. - √Åo ƒë∆∞·ª£c l√†m t·ª´ ch·∫•t li·ªáu cotton co gi√£n v·ªõi b·ªÅ m·∫∑t v·∫£i m·ªÅm m·∫°i, th·∫•m h√∫t m·ªì h√¥i t·ªët t·∫°o c·∫£m gi√°c tho·∫£i m√°i, tho√°ng m√°t cho ng∆∞·ªùi m·∫∑c. ƒê√¢y c≈©ng l√† ch·∫•t li·ªáu d·ªÖ gi·∫∑t s·∫°ch, gi√∫p b·∫°n ti·∫øt ki·ªám m·ªôt kho·∫£ng th·ªùi gian ƒë√°ng k·ªÉ. - √Åo thun nam ch·ªëng nhƒÉn t·ªët, d·ªÖ gi·∫∑t s·∫°ch, nhanh kh√¥. -Gi·∫∑t tay hay gi·∫∑t m√°y tho·∫£i m√°i kh√¥ng s·ª£ ra m√†u, nhƒÉn , m·∫•t form",
      "category": "kitchen",
      "reviews": 25,
      "stars": 4.9,
      "stock": 3
    },
    {
      "id": "recd1jIVIEChmiwhe",
      "name": "Tee basic ss1 CREWZ √°o thun tay l·ª° unisex Local Brand - AO_THUN_DVR (V427)",
      "price": 89.000,
      "image": "https://cf.shopee.vn/file/81db3aec45e555ada18535a4f2383b88",
      "colors": [
        "#000",
        "#00ff00",
        "#0000ff"
      ],
      "company": "marcos",
      "description": "Cloud bread VHS hell of banjo bicycle rights jianbing umami mumblecore etsy 8-bit pok pok +1 wolf. Vexillologist yr dreamcatcher waistcoat, authentic chillwave trust fund. Viral typewriter fingerstache pinterest pork belly narwhal. Schlitz venmo everyday carry kitsch pitchfork chillwave iPhone taiyaki trust fund hashtag kinfolk microdosing gochujang live-edge",
      "category": "bedroom",
      "shipping": true,
      "reviews": 25,
      "stars": 4.9,
      "stock": 3
    },
    {
      "id": "recoM2MyHJGHLVi5l",
      "name": "√Åo thun ph√¥ng logo tay nam n·ªØ PINK tay l·ª° form r·ªông SANJATI Unisex",
      "price": 139.000,
      "image": "https://cf.shopee.vn/file/7692991141cbc2cb5c540d40dc38a041",
      "colors": [
        "#000"
      ],
      "company": "liddy",
      "description": "M√î T·∫¢ S·∫¢N PH·∫®M! Shop √ÅO THUN S·ªà V√Ä L·∫∫ K√≠nh Ch√†o Q√∫y Kh√°ch! Lu√¥n lu√¥n c·∫≠p nh·∫≠t nh·ªØng m·∫´u m√£ m·ªõi , ƒëa d·∫°ng ‚Äì √Åo Thun S·ªâ & L·∫ª h·ª©a h·∫πn s·∫Ω lu√¥n ƒëem l·∫°i cho b·∫°n nh·ªØng s·∫£n ph·∫©m th·ªùi trang ∆∞ng √Ω v√† ho√†n h·∫£o nh·∫•t. √Åo Thun S·ªâ & L·∫ª CAM K·∫æT üëâ V·ªÅ s·∫£n ph·∫©m: Shop cam k·∫øt c·∫£ v·ªÅ CH·∫§T LI·ªÜU c≈©ng nh∆∞ H√åNH D√ÅNG ( ƒë√∫ng v·ªõi nh·ªØng g√¨ ƒë∆∞·ª£c n√™u b·∫≠t trong ph·∫ßn m√¥ t·∫£ s·∫£n ph·∫©m). üëâ V·ªÅ gi√° c·∫£ : Shop nh·∫≠p v·ªõi s·ªë l∆∞·ª£ng nhi·ªÅu v√† tr·ª±c ti·∫øp n√™n chi ph√≠ s·∫Ω l√† R·∫∫ NH·∫§T nh√©. üëâ V·ªÅ d·ªãch v·ª•: Shop s·∫Ω c·ªë g·∫Øng tr·∫£ l·ªùi h·∫øt nh·ªØng th·∫Øc m·∫Øc xoay quanh s·∫£n ph·∫©m nh√©. üëâ Th·ªùi gian chu·∫©n b·ªã h√†ng: H√†ng c√≥ s·∫µn, th·ªùi gian chu·∫©n b·ªã t·ªëi ∆∞u nh·∫•t. - Nhu c·∫ßu may in √°o thun gi√° r·∫ª ch·∫•t l∆∞·ª£ng t·ªët r·∫•t ƒë∆∞·ª£c nhu c·∫ßu th·ªã tr∆∞·ªùng quan t√¢m - Ch√∫ng t√¥i xin gi·ªõi thi·ªáu d·ªãch v·ª• In √Åo Thun Theo Y√™u C·∫ßu Gi√° R·∫ª T·∫°i TP. HCM - M·ª±c in s·∫Øc n√©t ƒë·∫πp, kh√¥ng phai m√†u, kh√¥ng ƒë·ªôc h·∫°i cho s·ª©c kh·ªèe üí• SI√äU SALE M√ôA ƒê√îNG üëï Form ƒë·∫πp freesize t·ª´ 35 k√≠ ƒë·∫øn 75 k√≠ üòç Ch·∫•t li·ªáu : v·∫£i cotton th·∫•m h√∫t m·ªì h√¥i, tho√°ng m√°t, kh√¥ng x√π l√¥ng, m·ªÅm m·ªãn",
      "category": "dining",
      "shipping": true,
      "reviews": 25,
      "stars": 4.9,
      "stock": 3
    },
    {
      "id": "recotY5Nh00DQFdkm",
      "name": "dining table",
      "price": 42999,
      "image": "https://dl.airtable.com/.attachmentThumbnails/7a38cf782907773d9900165530cfa583/d9f41960",
      "colors": [
        "#00ff00",
        "#0000ff",
        "#ff0000"
      ],
      "company": "ikea",
      "description": "Cloud bread VHS hell of banjo bicycle rights jianbing umami mumblecore etsy 8-bit pok pok +1 wolf. Vexillologist yr dreamcatcher waistcoat, authentic chillwave trust fund. Viral typewriter fingerstache pinterest pork belly narwhal. Schlitz venmo everyday carry kitsch pitchfork chillwave iPhone taiyaki trust fund hashtag kinfolk microdosing gochujang live-edge",
      "category": "dining",
      "shipping": true,
      "reviews": 25,
      "stars": 4.9,
      "stock": 3
    },
    {
      "id": "rec1Ntk7siEEW9ha1",
      "name": "emperor bed",
      "price": 23999,
      "image": "https://dl.airtable.com/.attachmentThumbnails/0446e84c5bca9643de3452a61b2d6195/1b32f48b",
      "colors": [
        "#0000ff",
        "#000"
      ],
      "company": "ikea",
      "description": "Cloud bread VHS hell of banjo bicycle rights jianbing umami mumblecore etsy 8-bit pok pok +1 wolf. Vexillologist yr dreamcatcher waistcoat, authentic chillwave trust fund. Viral typewriter fingerstache pinterest pork belly narwhal. Schlitz venmo everyday carry kitsch pitchfork chillwave iPhone taiyaki trust fund hashtag kinfolk microdosing gochujang live-edge",
      "category": "bedroom",
      "shipping": true,
      "reviews": 25,
      "stars": 4.9,
      "stock": 3
    },
    {
      "id": "recNZ0koOqEmilmoz",
      "name": "entertainment center",
      "price": 59999,
      "image": "https://dl.airtable.com/.attachmentThumbnails/65708b701baa3a84883ad48301624b44/2de058af",
      "featured": true,
      "colors": [
        "#000",
        "#ff0000"
      ],
      "company": "caressa",
      "description": "Cloud bread VHS hell of banjo bicycle rights jianbing umami mumblecore etsy 8-bit pok pok +1 wolf. Vexillologist yr dreamcatcher waistcoat, authentic chillwave trust fund. Viral typewriter fingerstache pinterest pork belly narwhal. Schlitz venmo everyday carry kitsch pitchfork chillwave iPhone taiyaki trust fund hashtag kinfolk microdosing gochujang live-edge",
      "category": "living room",
      "shipping": true,
      "reviews": 25,
      "stars": 4.9,
      "stock": 3
    },
    {
      "id": "recrfxv3EwpvJwvjq",
      "name": "high-back bench",
      "price": 39999,
      "image": "https://dl.airtable.com/.attachmentThumbnails/1af97a4d3eb28563962d8e3520727ffc/1b9cc17f",
      "featured": true,
      "colors": [
        "#000",
        "#00ff00"
      ],
      "company": "ikea",
      "description": "Cloud bread VHS hell of banjo bicycle rights jianbing umami mumblecore etsy 8-bit pok pok +1 wolf. Vexillologist yr dreamcatcher waistcoat, authentic chillwave trust fund. Viral typewriter fingerstache pinterest pork belly narwhal. Schlitz venmo everyday carry kitsch pitchfork chillwave iPhone taiyaki trust fund hashtag kinfolk microdosing gochujang live-edge",
      "category": "office",
      "shipping": true,
      "reviews": 25,
      "stars": 4.9,
      "stock": 3
    },
    {
      "id": "recoW8ecgjtKx2Sj2",
      "name": "leather chair",
      "price": 20099,
      "image": "https://dl.airtable.com/.attachmentThumbnails/d3174ad774fc628e1d50b77e3bec399f/1de7b97a",
      "colors": [
        "#ff0000",
        "#ffb900",
        "#00ff00"
      ],
      "company": "caressa",
      "description": "Cloud bread VHS hell of banjo bicycle rights jianbing umami mumblecore etsy 8-bit pok pok +1 wolf. Vexillologist yr dreamcatcher waistcoat, authentic chillwave trust fund. Viral typewriter fingerstache pinterest pork belly narwhal. Schlitz venmo everyday carry kitsch pitchfork chillwave iPhone taiyaki trust fund hashtag kinfolk microdosing gochujang live-edge",
      "category": "bedroom",
      "reviews": 25,
      "stars": 4.9,
      "stock": 3
    },
    {
      "id": "recEOA6qtDag1hRbU",
      "name": "leather sofa",
      "price": 99999,
      "image": "https://dl.airtable.com/.attachmentThumbnails/a2f371071cf292badbb621294758b600/ca963b31",
      "colors": [
        "#00ff00",
        "#0000ff"
      ],
      "company": "caressa",
      "description": "Cloud bread VHS hell of banjo bicycle rights jianbing umami mumblecore etsy 8-bit pok pok +1 wolf. Vexillologist yr dreamcatcher waistcoat, authentic chillwave trust fund. Viral typewriter fingerstache pinterest pork belly narwhal. Schlitz venmo everyday carry kitsch pitchfork chillwave iPhone taiyaki trust fund hashtag kinfolk microdosing gochujang live-edge",
      "category": "office",
      "reviews": 25,
      "stars": 4.9,
      "stock": 3
    },
    {
      "id": "recoAJYUCuEKxcPSr",
      "name": "modern bookshelf",
      "price": 31999,
      "image": "https://dl.airtable.com/.attachmentThumbnails/1e4a818f5184993e430420a152315b40/873c7094",
      "featured": true,
      "colors": [
        "#ffb900",
        "#ff0000",
        "#00ff00"
      ],
      "company": "caressa",
      "description": "Cloud bread VHS hell of banjo bicycle rights jianbing umami mumblecore etsy 8-bit pok pok +1 wolf. Vexillologist yr dreamcatcher waistcoat, authentic chillwave trust fund. Viral typewriter fingerstache pinterest pork belly narwhal. Schlitz venmo everyday carry kitsch pitchfork chillwave iPhone taiyaki trust fund hashtag kinfolk microdosing gochujang live-edge",
      "category": "kids",
      "reviews": 25,
      "stars": 4.9,
      "stock": 3
    },
    {
      "id": "recQ0fMd8T0Vk211E",
      "name": "modern poster",
      "price": 3099,
      "image": "https://dl.airtable.com/.attachmentThumbnails/89ba7458c24252be77f5a835dd398880/c13ef359",
      "colors": [
        "#000"
      ],
      "company": "liddy",
      "description": "Cloud bread VHS hell of banjo bicycle rights jianbing umami mumblecore etsy 8-bit pok pok +1 wolf. Vexillologist yr dreamcatcher waistcoat, authentic chillwave trust fund. Viral typewriter fingerstache pinterest pork belly narwhal. Schlitz venmo everyday carry kitsch pitchfork chillwave iPhone taiyaki trust fund hashtag kinfolk microdosing gochujang live-edge",
      "category": "living room",
      "shipping": true,
      "reviews": 25,
      "stars": 4.9,
      "stock": 3
    },
    {
      "id": "rec7CjDWKRgNQtrKe",
      "name": "shelf",
      "price": 30999,
      "image": "https://dl.airtable.com/.attachmentThumbnails/2fd8fb02cc6fa5620504de41fbb662f9/3157a507",
      "colors": [
        "#00ff00"
      ],
      "company": "ikea",
      "description": "Cloud bread VHS hell of banjo bicycle rights jianbing umami mumblecore etsy 8-bit pok pok +1 wolf. Vexillologist yr dreamcatcher waistcoat, authentic chillwave trust fund. Viral typewriter fingerstache pinterest pork belly narwhal. Schlitz venmo everyday carry kitsch pitchfork chillwave iPhone taiyaki trust fund hashtag kinfolk microdosing gochujang live-edge",
      "category": "living room",
      "reviews": 25,
      "stars": 4.9,
      "stock": 3
    },
    {
      "id": "recF0KpwlkF7e8kXO",
      "name": "simple chair",
      "price": 109999,
      "image": "https://dl.airtable.com/.attachmentThumbnails/c9d46754faf94d2283e15ac3b8accb9a/a6c343c8",
      "colors": [
        "#0000ff"
      ],
      "company": "liddy",
      "description": "Cloud bread VHS hell of banjo bicycle rights jianbing umami mumblecore etsy 8-bit pok pok +1 wolf. Vexillologist yr dreamcatcher waistcoat, authentic chillwave trust fund. Viral typewriter fingerstache pinterest pork belly narwhal. Schlitz venmo everyday carry kitsch pitchfork chillwave iPhone taiyaki trust fund hashtag kinfolk microdosing gochujang live-edge",
      "category": "living room",
      "shipping": true,
      "reviews": 25,
      "stars": 4.9,
      "stock": 3
    },
    {
      "id": "recs5BSVU3qQrOj4E",
      "name": "sofa set",
      "price": 129999,
      "image": "https://dl.airtable.com/.attachmentThumbnails/fe9d4f25fee307f6ae5b7a462b70b942/031464c4",
      "colors": [
        "#00ff00",
        "#ffb900"
      ],
      "company": "marcos",
      "description": "Cloud bread VHS hell of banjo bicycle rights jianbing umami mumblecore etsy 8-bit pok pok +1 wolf. Vexillologist yr dreamcatcher waistcoat, authentic chillwave trust fund. Viral typewriter fingerstache pinterest pork belly narwhal. Schlitz venmo everyday carry kitsch pitchfork chillwave iPhone taiyaki trust fund hashtag kinfolk microdosing gochujang live-edge",
      "category": "living room",
      "shipping": true,
      "reviews": 25,
      "stars": 4.9,
      "stock": 3
    },
    {
      "id": "recroK1VD8qVdMP5H",
      "name": "suede armchair",
      "price": 15999,
      "image": "https://dl.airtable.com/.attachmentThumbnails/1cf03bfcee117bd92273d996a82a1534/47ef57c7",
      "colors": [
        "#ffb900"
      ],
      "company": "caressa",
      "description": "Cloud bread VHS hell of banjo bicycle rights jianbing umami mumblecore etsy 8-bit pok pok +1 wolf. Vexillologist yr dreamcatcher waistcoat, authentic chillwave trust fund. Viral typewriter fingerstache pinterest pork belly narwhal. Schlitz venmo everyday carry kitsch pitchfork chillwave iPhone taiyaki trust fund hashtag kinfolk microdosing gochujang live-edge",
      "category": "office",
      "reviews": 25,
      "stars": 4.9,
      "stock": 3
    },
    {
      "id": "rec7JInsuCEHgmaGe",
      "name": "utopia sofa",
      "price": 79999,
      "image": "https://dl.airtable.com/.attachmentThumbnails/5ebc46a9e31a09cbc6078190ab035abc/8480b064",
      "featured": true,
      "colors": [
        "#ff0000",
        "#00ff00"
      ],
      "company": "liddy",
      "description": "Cloud bread VHS hell of banjo bicycle rights jianbing umami mumblecore etsy 8-bit pok pok +1 wolf. Vexillologist yr dreamcatcher waistcoat, authentic chillwave trust fund. Viral typewriter fingerstache pinterest pork belly narwhal. Schlitz venmo everyday carry kitsch pitchfork chillwave iPhone taiyaki trust fund hashtag kinfolk microdosing gochujang live-edge",
      "category": "living room",
      "reviews": 25,
      "stars": 4.9,
      "stock": 3
    },
    {
      "id": "rec3jeKnhInKHJuz2",
      "name": "vase table",
      "price": 120999,
      "image": "https://dl.airtable.com/.attachmentThumbnails/1e222e36e935db2695c33e3d30c2e482/91b542e0",
      "featured": true,
      "colors": [
        "#ff0000"
      ],
      "company": "marcos",
      "description": "Cloud bread VHS hell of banjo bicycle rights jianbing umami mumblecore etsy 8-bit pok pok +1 wolf. Vexillologist yr dreamcatcher waistcoat, authentic chillwave trust fund. Viral typewriter fingerstache pinterest pork belly narwhal. Schlitz venmo everyday carry kitsch pitchfork chillwave iPhone taiyaki trust fund hashtag kinfolk microdosing gochujang live-edge",
      "category": "office",
      "reviews": 25,
      "stars": 4.9,
      "stock": 3
    },
    {
      "id": "recv2ohxljlK2FZO7",
      "name": "wooden bed",
      "price": 250099,
      "image": "https://dl.airtable.com/.attachmentThumbnails/1d692023f254ca11a3d1a3628d198081/e922a771",
      "colors": [
        "#000",
        "#ffb900"
      ],
      "company": "ikea",
      "description": "Cloud bread VHS hell of banjo bicycle rights jianbing umami mumblecore etsy 8-bit pok pok +1 wolf. Vexillologist yr dreamcatcher waistcoat, authentic chillwave trust fund. Viral typewriter fingerstache pinterest pork belly narwhal. Schlitz venmo everyday carry kitsch pitchfork chillwave iPhone taiyaki trust fund hashtag kinfolk microdosing gochujang live-edge",
      "category": "bedroom",
      "reviews": 25,
      "stars": 4.9,
      "stock": 3
    },
    {
      "id": "recJIjREF3dlFi3sR",
      "name": "wooden desk",
      "price": 150999,
      "image": "https://dl.airtable.com/.attachmentThumbnails/e3fa7aa6dc112c4998da18bb401bd70f/61e2fb5e",
      "colors": [
        "#000"
      ],
      "company": "ikea",
      "description": "Cloud bread VHS hell of banjo bicycle rights jianbing umami mumblecore etsy 8-bit pok pok +1 wolf. Vexillologist yr dreamcatcher waistcoat, authentic chillwave trust fund. Viral typewriter fingerstache pinterest pork belly narwhal. Schlitz venmo everyday carry kitsch pitchfork chillwave iPhone taiyaki trust fund hashtag kinfolk microdosing gochujang live-edge",
      "category": "office",
      "shipping": true,
      "reviews": 25,
      "stars": 4.9,
      "stock": 3
    },
    {
      "id": "recm7wC8TBVdU9oEL",
      "name": "wooden desk",
      "price": 40099,
      "image": "https://dl.airtable.com/.attachmentThumbnails/954dfa5c8ce3df84a3c7254481464366/a3bd8c4a",
      "colors": [
        "#0000ff",
        "#00ff00"
      ],
      "company": "ikea",
      "description": "Cloud bread VHS hell of banjo bicycle rights jianbing umami mumblecore etsy 8-bit pok pok +1 wolf. Vexillologist yr dreamcatcher waistcoat, authentic chillwave trust fund. Viral typewriter fingerstache pinterest pork belly narwhal. Schlitz venmo everyday carry kitsch pitchfork chillwave iPhone taiyaki trust fund hashtag kinfolk microdosing gochujang live-edge",
      "category": "office",
      "reviews": 25,
      "stars": 4.9,
      "stock": 3
    },
    {
      "id": "rectfNsySwAJeWDN2",
      "name": "wooden table",
      "price": 234999,
      "image": "https://dl.airtable.com/.attachmentThumbnails/e8c2f821d05b9e4e5aa450a19e62ffa5/271fc3f5",
      "featured": true,
      "colors": [
        "#ffb900",
        "#ff0000"
      ],
      "company": "caressa",
      "description": "Cloud bread VHS hell of banjo bicycle rights jianbing umami mumblecore etsy 8-bit pok pok +1 wolf. Vexillologist yr dreamcatcher waistcoat, authentic chillwave trust fund. Viral typewriter fingerstache pinterest pork belly narwhal. Schlitz venmo everyday carry kitsch pitchfork chillwave iPhone taiyaki trust fund hashtag kinfolk microdosing gochujang live-edge",
      "category": "kitchen",
      "shipping": true,
      "reviews": 25,
      "stars": 4.9,
      "stock": 3
    }
  ]


export default function Products() {


    const {
        query, setQuery,
        categoryIndex, setCategoryIndex,
        freeShipping, setFreeShipping,
        price, setPrice,
        colorIndex, setColorIndex,
        companyIndex, setCompanyIndex,
        sortByIndex, setSortByIndex,
        viewGrid, setViewGrid,
        clearFilters
    } = useContext(StoreContext)

    const filteredProducts = products && products.filter(product => {
        if (
            (query.trim() !== '' && !product.name.includes(query.trim().toLowerCase())) ||
            ((categoryIndex > -1 && categoryIndex < 6) && product.category !== CATEGORIES[categoryIndex]) ||
            ((companyIndex > -1 && companyIndex < 4) && product.company !== COMPANIES[companyIndex]) ||
            ((colorIndex > -1 && colorIndex < 5) && product.colors.find(c => c !== COLORS[colorIndex])) ||
            (product.price > price) ||
            (freeShipping && (!product.hasOwnProperty('shipping') || !product.shipping))
        ) return false;
        return true;
    })

    const sortProducts = (products, index) => {
        if (index < 0 || index > 4) return products;
        switch (index) {
            case 0:
                return products.sort((a, b) => a.price - b.price);
            case 1:
                return products.sort((a, b) => a.price - b.price).reverse();
            case 2:
                return products.sort((a, b) => {
                    const aName = a.name.toLowerCase();
                    const bName = b.name.toLowerCase();
                    if (aName < bName) return -1;
                    if (aName > bName) return 1;
                    return 0;
                });
            case 3:
                return products.sort((a, b) => {
                    const aName = a.name.toLowerCase();
                    const bName = b.name.toLowerCase();
                    if (aName < bName) return -1;
                    if (aName > bName) return 1;
                    return 0;
                }).reverse();
            default:
                return products;
        }
    }

    return (
        <>
            <Breadcrumbs>
                <Link to='/'>Home</Link>
                <span>Products</span>
            </Breadcrumbs>
            <section>
                <div className="tw-container py-10 flex flex-col md:flex-row gap-10">
                    <section id="filters">
                        <div className="sticky top-10 flex flex-col gap-4">
                            {/* Search Input */}
                            <input
                                type="text"
                                placeholder="Search"
                                value={query}
                                className="bg-gray-200 w-5/12 md:w-full py-1 px-2 rounded"
                                onChange={(e) => setQuery(e.target.value)}
                            />
                            {/* Categories */}
                            <div id="categories">
                                <h5>Category</h5>
                                <ul className="mt-2">
                                    <li>
                                        <button
                                            onClick={() => setCategoryIndex(-1)}
                                            className={`${categoryIndex === -1 ? 'underline' : ''}`}
                                        >All</button>
                                    </li>
                                    {
                                        CATEGORIES.map((category, i) => (
                                            <li key={i} className="capitalize">
                                                <button
                                                    onClick={() => setCategoryIndex(i)}
                                                    className={`${categoryIndex === i ? 'underline' : ''}`}
                                                >
                                                    {category}
                                                </button>
                                            </li>
                                        ))
                                    }
                                </ul>
                            </div>
                            {/* Companies */}
                            <div id="companies-form">
                                <h5>Company</h5>
                                <select className="mt-2" value={companyIndex} onChange={(e) => setCompanyIndex(parseInt(e.target.value))}>
                                    <option value={-1}>all</option>
                                    {
                                        COMPANIES.map((company, i) => (
                                            <option key={i} value={i}>{company}</option>
                                        ))
                                    }
                                </select>
                            </div>
                            {/* Colors */}
                            <div id="colors">
                                <h5>Colors</h5>
                                <div className="mt-2 flex items-center gap-3">
                                    <button
                                        onClick={() => setColorIndex(-1)}
                                        className={`${colorIndex === -1 ? 'underline' : ''}`}
                                    >All</button>
                                    <ColorSelector
                                        colors={COLORS}
                                        index={colorIndex}
                                        setIndex={setColorIndex}
                                    />
                                </div>
                            </div>
                            {/* Price */}
                            <div id="price-range">
                                <h5>Price</h5>
                                <p className="mt-2">{price.toCurrency()}</p>
                                <input
                                    type="range"
                                    min={0}
                                    max={309999}
                                    onChange={(e) => setPrice(parseInt(e.currentTarget.value))}
                                    value={price}
                                />
                            </div>
                            {/* Free Shipping */}
                            <div id="free-shipping" className="flex gap-1 items-center">
                                <label>Free Shipping</label>
                                <input
                                    type="checkbox"
                                    checked={freeShipping}
                                    onChange={() => setFreeShipping(state => !state)}
                                />
                            </div>
                            <button className="btn-sm bg-red-300 text-red-900 font-bold" onClick={clearFilters}>Clear Filters</button>
                        </div>
                    </section>
                    <section id="products" className="w-full">
                        <article id="list-header" className={"flex flex-col md:grid md:items-center gap-y-2 gap-x-6"} style={{ gridTemplateColumns: 'auto auto 1fr auto' }}>
                            <div className="btn-container">
                                <button
                                    className={`border border-black rounded w-6 md:w-7 p-1 ${viewGrid ? 'bg-black text-white' : ''}`}
                                    onClick={() => setViewGrid(true)}
                                >
                                    <svg stroke="currentColor" fill="currentColor" strokeWidth="0" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path fillRule="evenodd" d="M1 2.5A1.5 1.5 0 012.5 1h3A1.5 1.5 0 017 2.5v3A1.5 1.5 0 015.5 7h-3A1.5 1.5 0 011 5.5v-3zm8 0A1.5 1.5 0 0110.5 1h3A1.5 1.5 0 0115 2.5v3A1.5 1.5 0 0113.5 7h-3A1.5 1.5 0 019 5.5v-3zm-8 8A1.5 1.5 0 012.5 9h3A1.5 1.5 0 017 10.5v3A1.5 1.5 0 015.5 15h-3A1.5 1.5 0 011 13.5v-3zm8 0A1.5 1.5 0 0110.5 9h3a1.5 1.5 0 011.5 1.5v3a1.5 1.5 0 01-1.5 1.5h-3A1.5 1.5 0 019 13.5v-3z" clipRule="evenodd"></path></svg>
                                </button>
                                <button
                                    className={`border border-black rounded w-6 md:w-7 p-1 ${!viewGrid ? 'bg-black text-white' : ''}`}
                                    onClick={() => setViewGrid(false)}
                                >
                                    <svg stroke="currentColor" fill="currentColor" strokeWidth="0" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path fillRule="evenodd" d="M2.5 11.5A.5.5 0 013 11h10a.5.5 0 010 1H3a.5.5 0 01-.5-.5zm0-4A.5.5 0 013 7h10a.5.5 0 010 1H3a.5.5 0 01-.5-.5zm0-4A.5.5 0 013 3h10a.5.5 0 010 1H3a.5.5 0 01-.5-.5z" clipRule="evenodd"></path></svg>
                                </button>
                            </div>
                            <p>{filteredProducts && filteredProducts.length} Products Found</p>
                            <hr />
                            <form>
                                <label>Sort By: </label>
                                <select className="px-2 py-1" value={sortByIndex} onChange={(e) => setSortByIndex(parseInt(e.target.value))}>
                                    <option value={0}>Price (Lowest)</option>
                                    <option value={1}>Price (Highest)</option>
                                    <option value={2}>Name (A-Z)</option>
                                    <option value={3}>Name (Z-A)</option>
                                </select>
                            </form>
                        </article>
                        <article id="products-list">
                            <div className={`mt-6 ${viewGrid ? "grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-8" : ''}`}>
                                {
                                    sortProducts(filteredProducts, sortByIndex).map(product => (
                                        <ProductPanel
                                            key={product.id}
                                            {...product}
                                            grid={viewGrid}
                                        />
                                    ))
                                }
                            </div>
                        </article>
                    </section>
                </div>
            </section>
        </>
    )
}